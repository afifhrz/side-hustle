{% extends 'layout.html' %}
{% block title %}Face Recognition App{% endblock  %}

{% block content %}
<section id="home" class="intro-section">
  <div class="container">
    <div class="row align-items-center text-white">
      <!-- START THE CONTENT FOR THE INTRO  -->
      <div class="col-md-6 intros text-start">
        <h1 class="display-2">
          <span class="display-2--intro">Face Registration Page</span>
          <span class="display-2--description lh-base">
            This is a register page.
          </span>
        </h1>
        
        <div class="row g-3 align-items-center">
          <div class="col-auto">
            <label for="NameStudent" class="col-form-label">Input Your Name</label>
          </div>
          <div class="col-auto">
            <input type="text" id="NameStudent" name="NameStudent" class="form-control" required>
          </div>
          <div class="col-auto">
            <button type="submit" class="btn btn-primary" onclick="f_start()">Start Registration</button>
          </div>
        </div>
        <br>
      </div>

      <div class="col-md-6 intros text-end">
        <div class="video-box">
          <img src="{{ url_for('video_feed') }}" alt="video illutration" class="img-fluid">
        </div>
      </div>
    </div>
  </div>
</section>
<script>
  function f_start(){
      var studentName = document.getElementById("NameStudent").value;
      if (studentName != ""){
          fetch("/appregistration", {
              method: "POST",
              headers: {
                  'Accept': 'application/json',
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify({ "NameStudent": studentName})
          });
      } else {
          alert("Please fill the form!");
      };
      window.location="{{url_for('trainView')}}";
  }
</script>
{% endblock  %}